---
description: TODOファイルからタスクを実行し、プルリクエスト作成します[/todo-task-run xxx]
---

## context

- Pull Requestテンプレート
  @.github/PULL_REQUEST_TEMPLATE.md

## 📋 ルール

### タスク完了時の手順

**重要**: タスクを完了した際は、必ず以下の手順を実行してください：

1. **タスクをチェック** - `- [ ]` を `- [x]` に変更
2. **関連ファイルを明記** - 作成・修正したファイル名を記載
3. **全タスク完了時のラベル管理**:
   - issueから`ai doing`ラベルを削除
   - `claude-code-requested`ラベルは残す（重複処理防止のため）

### テストの実行

**重要**: **全テストは実行しない**
          bin/rspecを全テスト実行してしまうと、30分くらいかかってしまうので。

## 📚 参考ドキュメント

- [関連ドキュメント一覧](@docs)

## 処理フロー

### タスク作成 (Task Tool使用)
- $ARGUMENTSを読む
- $ARGUMENTSの内容を良く理解してタスク化してください
- TDDメソッドを使用してタスク化
- タスクはTodosで保持
- 作成したtodoを$ARGUMENTSに追加

### 初期設定 (Task Tool使用)
- `git fetch -a -p` を実行
- origin/mainからブランチを作成
- [skip ci]付きの空コミット作成
- issueにopenされているpull requestが紐づいて存在している場合
  - 実装済み内容を確認し、実装を継続するようにする
- pull request作成（todoをチェックリスト化）
  - pull requestのテンプレート: @.github/PULL_REQUEST_TEMPLATE.md

### タスク実行 (各処理ごとにTask Toolを個別に使用)
- 実行前に `## 📋 ルール` の内容を復唱する
- 各タスクを順次実行
- **各タスク完了後の必須手順**:
  1. 変更をコミット（適切なコミットメッセージ付き）
  2. `git push` でリモートにプッシュ
  3. PRチェックリストを更新（ `- [ ]` → `- [x]` ）
  4. 実施した内容とPR更新結果を報告
- 未完了タスクがなくなるまで繰り返し
- 次のタスクの実行に必要な情報は、それまでに実行したタスクの戻り値等を適切に使用する

### 最終完了処理 (Task Tool使用)
**全タスク完了時の必須手順**:
1. **最終プッシュ確認**: `git push` で全ての変更がリモートに反映されていることを確認
2. **PRタイトル・説明更新**: 実装内容を反映した包括的な説明に更新
   - 実装機能の詳細
   - 品質メトリクス（テスト件数、カバレッジ等）
   - 主要な変更ファイル一覧
   - 技術的な価値・効果
3. **完了報告コメント**: pull requestに実装完了の詳細コメントを追加
4. **ラベル管理**: issueから`ai doing`ラベルを削除（`claude-code-requested`は残す）
5. **最終確認**: PRページのURLを提示してレビュー準備完了を報告